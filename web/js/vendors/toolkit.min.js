/*!
 * Titon Toolkit v1.2.1
 * Copyright 2010-2014, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";a.Toolkit={version:"1.2.1",build:"hswdgcqq",options:{vendor:"",isPrefix:"is-",hasPrefix:"has-"},messages:{loading:"Loading...",error:"An error has occurred!"},hasTransition:function(){for(var a="transition WebkitTransition MozTransition OTransition msTransition".split(" "),b=document.createElement("div").style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}(),isTouch:!!("ontouchstart"in a||a.DocumentTouch&&document instanceof DocumentTouch),isRetina:a.devicePixelRatio>1,createComponent:function(a,b,c){var d=a;$.fn[d]&&(d="toolkit"+d.charAt(0).toUpperCase()+d.slice(1)),$.fn[d]=c?function(){var c=b.apply(this,arguments);return this.each(function(){$(this).addData("toolkit."+a,c)})}:function(){var c=arguments;return this.each(function(){var d=this;$(this).addData("toolkit."+a,function(){return function(){return b.apply(d,c)}}())})}},Class:function(){}},Toolkit.Class.extend=function(a,b,c){return $.extend(a.prototype,this.prototype,b),a.prototype.constructor=a,a.options=$.extend(!0,{},this.options||{},c||{}),a.extend=this.extend,a},$.fn.toolkit=function(a){var b,c="toolkit."+a,d=[];return this.each(function(){(b=$(this).data(c))&&d.push(b)}),1===this.length&&d[0]?d[0]:d},$.fn.reveal=function(){return this.removeClass("hide").addClass("show")},$.fn.conceal=function(){return this.removeClass("show").addClass("hide")},$.fn.i=$.fn.item=function(a){var b=this.get(a);return b?$(b):null},$.fn.addData=function(a,b){var c=this.data(a);return c?c:("function"==typeof b&&(b=b.call(this)),this.data(a,b),b)},$.fn.positionTo=function(b,c,d,e){var f=d||{left:0,top:0},g=0,h=0,i=this.outerHeight(!0),j=this.outerWidth(!0);if(c.preventDefault)f.left+=c.pageX,f.top+=c.pageY;else{var k=c.offset(),l=b,m=$(a),n=m.width(),o=m.height(),p=m.scrollTop();f.left+=k.left,f.top+=k.top,g=c.outerHeight(),h=c.outerWidth(),k.top-i-p<0?l=l.replace("top","bottom"):k.top+g+i>o&&(l=l.replace("bottom","top")),k.left-j<0?l=l.replace("left","right"):k.left+h+j>n&&(l=l.replace("right","left")),b!==l&&(this.removeClass(b).addClass(l).data("new-position",l),b=l)}var q=b.split("-"),r={y:q[0],x:q[1]};return"top"===r.y?f.top-=i:"bottom"===r.y?f.top+=g:"center"===r.y&&(f.top-=Math.round(i/2-g/2)),"left"===r.x?f.left-=j:"right"===r.x?f.left+=h:"center"===r.x&&(f.left-=Math.round(j/2-h/2)),e&&("center"===r.y&&("left"===r.x?f.left-=15:"right"===r.x&&(f.left+=15)),"center"===r.x&&("top"===r.y?f.top-=10:"bottom"===r.y&&(f.top+=20))),this.css(f)},$.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}},$.throttle=function(a,b){if(!b)return a;var c=!1;return function(){var d=this,e=arguments;c||(c=!0,setTimeout(function(){a.apply(d,e),c=!1},b))}},$.expr[":"].shown=function(a){return"hidden"!==$(a).css("visibility")},$.bound=function(a,b,c){return c=c||0,a>=b?a=0:c>a&&(a=b-1),a},$.hyphenate=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},$.cookie||($.cookie=function(a,b,c){if(c=$.extend({expires:null,path:"/",domain:"",secure:!1},c),"undefined"!=typeof b){if("number"==typeof c.expires){var d=new Date;d.setTime(d.getTime()+24*c.expires*60*60*1e3),c.expires=d.toUTCString()}return document.cookie=[a+"="+encodeURIComponent(b),c.expires?"; expires="+c.expires:"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}return b=document.cookie.match("(?:^|;)\\s*"+a.replace(/[\-\.\+\*]/g,"\\$&")+"=([^;]*)"),b&&b.length?decodeURIComponent(b[1]):null},$.removeCookie=function(a,b){return b.expires=-1,$.cookie(a,"",b)}),$.event.special.clickout||($.event.special.clickout=function(){function a(a){var c=!0;b.each(function(){if(c){var b=$(this);c=!b.is(a.target)&&0===b.has(a.target).length}}),c&&b.trigger("clickout",[a.target])}var b=$([]),c=$(document);return{setup:function(){b=b.add(this),1===b.length&&c.on("click",a)},teardown:function(){b=b.not(this),0===b.length&&c.off("click",a)},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c,b.apply(this,arguments)}}}}(),$.fn.clickout=function(a,b){return arguments.length>0?this.on("clickout",null,a,b):this.trigger("clickout")}),$.event.special.swipe||($.event.special.swipe=function(){function a(a){var b=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a;return{time:(new Date).getTime(),coords:[b.pageX,b.pageY]}}function b(a,b,c,d){var e,f=$.event.special.swipe,g=Math.abs,h=b.coords[0]-a.coords[0],i=b.coords[1]-a.coords[1];if(b.time-a.time<=f.duration){if(g(h)>=f.distance&&g(i)<=f.restraint)e=0>h?"left":"right";else{if(!(g(i)>=f.distance&&g(h)<=f.restraint))return;e=0>i?"up":"down"}var j={target:d,swipestart:a,swipestop:b};c.trigger($.Event("swipe",j)).trigger($.Event("swipe"+e,j))}}var c=Toolkit.isTouch,d=c?"touchstart":"mousedown",e=c?"touchmove":"mousemove",f=c?"touchend":"mouseup";return{duration:1e3,distance:50,restraint:75,setup:function(){var c,g,h=$(this);h.bind(d,function(b){c=a(b),g=b.target,"mousedown"===d&&b.preventDefault()}).bind(e,function(a){a.preventDefault()}).bind(f,function(d){b(c,a(d),h,g)})},teardown:function(){$(this).unbind(d).unbind(e).unbind(f)}}}(),$.each("swipe swipeleft swiperight swipeup swipedown".split(" "),function(a,b){$.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},"swipe"!==b&&($.event.special[b]={setup:function(){$(this).bind("swipe",$.noop)},teardown:function(){$(this).unbind("swipe")}})})),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=[].slice.call(arguments,1),d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat([].slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(window);!function(a){"use strict";Toolkit.Component=Toolkit.Class.extend(function(){},{component:"Component",version:"1.2.0",enabled:!1,events:{},createElement:function(){var b,c=this.options;if(c.templateFrom&&(b=a(c.templateFrom)),b&&b.length||!c.template||(b=a(c.template),b.length&&b.conceal().appendTo("body")),!b)throw new Error("Failed to create template element");return c.className&&b.addClass(c.className),c.animation&&b.addClass(c.animation),b},bindEvents:function(b){var c,d,e,f,g,h=this,i=a(window),j=a(document);a.each(this.events,function(k,l){g=a.isArray(l)?l:[l],d=k.split(" "),c=d[0],e=d[1],f=d[2]||null,"."!==e.charAt(0)&&"#"!==e.charAt(0)||"clickout"===c||(f=e,e=h.options.context),h[e]&&(e=h[e]),a.each(g,function(d,g){a.isFunction(g)||(g=h[g].bind(h)),"window"===e?i[b](c,g):"document"===e?"ready"===c?j.ready(g):j[b](c,g):f?a(e||document)[b](c,f,g):a(e)[b](c,g)})})},disable:function(){this.enabled=!1,this.bindEvents("off")},enable:function(){this.enabled=!0,this.bindEvents("on")},fireEvent:function(b,c){a.isArray(c)||(c=[c]);var d="on"+b.charAt(0).toUpperCase()+b.slice(1),e=this.element;if(this.options[d]&&this.options[d].apply(this,c||[]),e&&e.length){var f=this.component;f=f.charAt(0).toLowerCase()+f.slice(1);var g=jQuery.Event(b+".toolkit."+f);g.context=this,e.trigger(g,c||[])}},inheritOptions:function(b,c){var d,e,f={};for(d in b)"context"!==d&&"template"!==d&&(e=c.data(this._class()+"-"+d.toLowerCase()),"undefined"!==a.type(e)&&(f[d]=e));return a.extend(!0,{},b,f)},process:function(a){if(this.hide(),a.callback){for(var b=a.callback.split("."),c=window,d=c,e=0;e<b.length;e++)d=c,c=c[b[e]];c.call(d,a)}this.fireEvent("process",a)},readOption:function(b,c){var d=b.data(this._class()+"-"+c.toLowerCase());return"undefined"===a.type(d)&&(d=this.options[c]),d},readValue:function(b,c){return c?(b=a(b),"function"===a.type(c)?c.call(this,b):b.attr(c)):null},requestData:function(b,c,d,e){var f=b.url||b,g=Toolkit.options.isPrefix,h=a.extend({},{url:f,type:"GET",context:this,beforeSend:c||function(){this.cache[f]=!0,this.element.addClass(g+"loading")}},b);"object"===a.type(this.options.ajax)&&(h=a.extend({},this.options.ajax,h));var i="GET"===h.type.toUpperCase();return a.ajax(h).done(d||function(a,b,c){this.element.removeClass(g+"loading"),c.getResponseHeader("Content-Type").indexOf("text/html")>=0?(i?this.cache[f]=a:delete this.cache[f],this.position(a)):(delete this.cache[f],this.process(a))}).fail(e||function(){delete this.cache[f],this.element.removeClass(g+"loading").addClass(Toolkit.options.hasPrefix+"failed"),this.position(this._errorTemplate())})},setOptions:function(b,c){var d=a.extend(!0,{},Toolkit[this.component].options,b||{});return c&&(d=this.inheritOptions(d,c)),d.mode&&"hover"===d.mode&&(d.mode=Toolkit.isTouch?"click":"mouseenter"),d},_class:function(){return a.hyphenate(this.component).slice(1)},_errorTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+this._class()+"-error").text(Toolkit.messages.error)},_loadingTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+this._class()+"-loading").text(Toolkit.messages.loading)}},{context:null,className:"",template:"",templateFrom:""})}(jQuery);!function(a){"use strict";Toolkit.Accordion=Toolkit.Component.extend(function(b,c){var d,e;this.component="Accordion",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.headers=d=b.find(c.headerElement),this.sections=e=b.find(c.sectionElement),this.index=0,this.node=null,this.events={},d.each(function(b){a(this).data("index",b)}),e.each(function(){var b=a(this);b.data("height",b.height()).conceal()}),this.events[c.mode+" headers"]="onShow",this.enable(),this.fireEvent("init"),this.jump(c.defaultIndex)},{jump:function(b){b=a.bound(b,this.headers.length),this.fireEvent("jump",b),this.show(this.headers[b])},show:function(b){b=a(b);var c=this.options,d=b.parent(),e=b.next(),f=b.data("index"),g=parseInt(e.data("height"),10),h=this.node&&this.node.is(b),i=Toolkit.options.isPrefix;if("click"===c.mode&&(c.multiple||c.collapsible&&h))e.is(":shown")&&this.node?(e.css("max-height",0).conceal(),d.removeClass(i+"active")):(e.css("max-height",g).reveal(),d.addClass(i+"active"));else{if(h)return;this.sections.css("max-height",0).conceal(),e.css("max-height",g).reveal(),this.element.children("li").removeClass(i+"active"),d.addClass(i+"active")}this.index=f,this.node=b,this.fireEvent("show",[e,b,f])},onShow:function(a){a.preventDefault(),this.show(a.currentTarget)}},{mode:"click",defaultIndex:0,multiple:!1,collapsible:!1,headerElement:".accordion-header",sectionElement:".accordion-section"}),Toolkit.createComponent("accordion",function(a){return new Toolkit.Accordion(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Blackout=Toolkit.Component.extend(function(b){this.component="Blackout",this.version="1.2.0",this.options=b=this.setOptions(b),this.element=this.createElement(),this.count=0;var c,d=Toolkit.options.vendor,e="bubble-spinner"===b.loader?8:b.waveCount,f=a("<div/>").addClass(d+"loader").addClass(b.loader).appendTo(this.element),g="";for(c=0;e>c;c++)g+="<span></span>";"bubble-spinner"===b.loader?a("<div/>").addClass("spinner").html(g).appendTo(f):f.html(g),this.loader=f,this.message=a("<div/>").addClass(d+"loader-message").html(Toolkit.messages.loading).appendTo(f),this.fireEvent("init")},{hide:function(){var a=this.count-1;0>=a?(this.count=0,this.element.conceal(),this.hideLoader()):this.count=a,this.fireEvent("hide",0>=a)},hideLoader:function(){this.loader.conceal(),this.fireEvent("hideLoader")},show:function(){var a=!1;this.count++,1===this.count&&(this.element.reveal(),a=!0),this.showLoader(),this.fireEvent("show",a)},showLoader:function(){this.loader.reveal(),this.fireEvent("showLoader")}},{loader:"bar-wave",waveCount:5,template:'<div class="'+Toolkit.options.vendor+'blackout" id="toolkit-blackout"></div>',templateFrom:"#toolkit-blackout"});var b=null;Toolkit.Blackout.factory=function(a){return b?b:b=new Toolkit.Blackout(a)}}(jQuery);!function(a){"use strict";Toolkit.Carousel=Toolkit.Component.extend(function(b,c){var d;if(this.component="Carousel",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.itemsWrapper=b.find(c.itemsElement),this.itemsList=this.itemsWrapper.children("ul, ol"),this.items=d=this.itemsWrapper.find(c.itemElement),this.tabsWrapper=b.find(c.tabsElement),this.tabs=this.tabsWrapper.find(c.tabElement),this.nextButton=b.find(c.nextElement),this.prevButton=b.find(c.prevElement),this.index=0,this.timer=null,this.stopped=!1,this.items.length<=1)return this.tabsWrapper.hide(),this.nextButton.hide(),void this.prevButton.hide();switch(b.addClass(c.animation),c.animation){case"fade":d.item(0).reveal();break;case"slide":this.itemsList.css("width",100*d.length+"%"),d.css("width",100/d.length+"%")}this.tabs.each(function(b){a(this).data("index",b)}),this.events={"keydown window":"onKeydown","swipeleft element":"next","swipeup element":"next","swiperight element":"prev","swipdown element":"prev","click tabs":"onJump","click nextButton":"next","click prevButton":"prev"},c.stopOnHover&&(this.events["mouseenter element"]="stop",this.events["mouseleave element"]="start"),this.enable(),this.fireEvent("init"),this.reset(),this.start()},{jump:function(b){if(this.index=b=a.bound(b,this.items.length),this.tabs.length){var c=Toolkit.options.isPrefix;this.tabs.removeClass(c+"active").item(b).addClass(c+"active")}switch(this.options.animation){case"fade":this.items.removeClass("show").item(b).reveal();break;case"slide-up":this.itemsList.css("top",-(100*b)+"%");break;default:this.itemsList.css("left",-(100*b)+"%")}this.reset(),this.fireEvent("jump",b)},next:function(){this.jump(this.index+1)},prev:function(){this.jump(this.index-1)},reset:function(){this.options.autoCycle&&(clearInterval(this.timer),this.timer=setInterval(this.onCycle.bind(this),this.options.duration))},start:function(){this.element.removeClass(Toolkit.options.isPrefix+"stopped"),this.stopped=!1,this.fireEvent("start")},stop:function(){this.element.addClass(Toolkit.options.isPrefix+"stopped"),this.stopped=!0,this.fireEvent("stop")},onCycle:function(){this.stopped||(this.fireEvent("cycle",this.index),this.next())},onJump:function(b){b.preventDefault(),this.jump(a(b.target).data("index")||0)},onKeydown:function(b){if(a.inArray(b.keyCode,[37,38,39,40])>=0)switch(b.preventDefault(),b.keyCode){case 37:this.prev();break;case 38:this.jump(0);break;case 39:this.next();break;case 40:this.jump(-1)}}},{animation:"slide",duration:5e3,autoCycle:!0,stopOnHover:!0,itemsElement:".carousel-items",itemElement:"li",tabsElement:".carousel-tabs",tabElement:"a",nextElement:".carousel-next",prevElement:".carousel-prev"}),Toolkit.createComponent("carousel",function(a){return new Toolkit.Carousel(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Drop=Toolkit.Component.extend(function(b,c){var d;this.component="Drop",this.version="1.2.0",this.options=c=this.setOptions(c),this.element=null,this.node=null,this.nodes=b=a(b),this.events=d={},a.each(["down","up","left","right"],function(a,b){d["clickout ."+Toolkit.options.vendor+"drop--"+b]="hide"}),d["clickout "+b.selector]="hide",d[c.mode+" "+b.selector]="onShow",this.enable(),this.fireEvent("init")},{hide:function(){var a=this.element;a&&a.is(":shown")&&(a.conceal(),this.node.removeClass(Toolkit.options.isPrefix+"active"),this.fireEvent("hide",[a,this.node]))},show:function(b){this.element.reveal(),this.node=b=a(b),this.node.addClass(Toolkit.options.isPrefix+"active"),this.fireEvent("show",[this.element,b])},onShow:function(b){b.preventDefault();var c=a(b.target),d=this.options,e=this.readValue(c,d.getTarget);e&&"#"===e.substr(0,1)&&(d.hideOpened&&this.node&&!this.node.is(c)&&this.hide(),this.element=a(e),this.node=c,this.element.is(":shown")?this.hide():this.show(c))}},{mode:"click",getTarget:"data-drop",hideOpened:!0}),Toolkit.createComponent("drop",function(a){return new Toolkit.Drop(this,a)},!0)}(jQuery);!function(a){"use strict";Toolkit.Flyout=Toolkit.Component.extend(function(b,c,d){if(!c)throw new Error("Flyout URL required to download sitemap JSON");this.component="Flyout",this.version="1.2.0",this.options=d=this.setOptions(d),this.nodes=b=a(b),this.node=null,this.element=null,this.current=null,this.menus={},this.data=[],this.dataMap={},this.timers={},this.events={},a.getJSON(c,this.load.bind(this)),"click"===d.mode?this.events["click "+b.selector]="onShow":(this.events["mouseenter "+b.selector]=["onShow","onEnter"],this.events["mouseleave "+b.selector]="onLeave"),this.enable(),this.fireEvent("init")},{clearTimer:function(a){clearTimeout(this.timers[a]),delete this.timers[a]},hide:function(){this.node.removeClass(Toolkit.options.isPrefix+"active"),this.current&&this.isVisible()&&(this.menus[this.current].conceal(),this.fireEvent("hide"),this.current=null)},isVisible:function(){return this.current&&this.menus[this.current]&&(this.element=this.menus[this.current]),this.element&&this.element.is(":shown")},load:function(a,b){if(b=b||0,0===b&&(this.data=a),a.url&&(this.dataMap[a.url]=a),a.children)for(var c=0,d=a.children.length;d>c;c++)this.load(a.children[c],b+1)},position:function(){var b=this.current,c=this.options;if(this.menus[b]){var d=this.menus[b],e=d.outerHeight(),f=this.node.offset(),g=f.left+c.xOffset,h=f.top+c.yOffset+this.node.outerHeight(),i=a(window).height();h>i/2&&(h=f.top-c.yOffset-e),d.css({left:g,top:h}).reveal(),this.fireEvent("show")}},show:function(b){var c=this._getTarget(b);this.current&&c!==this.current&&(this.hide(),this.startTimer("show",this.options.showDelay)),this.node=a(b),this._getMenu()&&(this.node.addClass(Toolkit.options.isPrefix+"active"),"click"===this.options.mode&&this.position())},startTimer:function(a,b,c){this.clearTimer(a);var d;d="show"===a?this.position.bind(this):this.hide.bind(this),d&&(this.timers[a]=setTimeout(function(){d.apply(this,c||[])}.bind(this),b))},_buildMenu:function(b,c){if(!c.children||!c.children.length)return null;var d,e,f,g,h,i=a(this.options.template),j=[],k=this.options.contentElement,l=this.options.itemLimit;if(this.options.className&&i.addClass(this.options.className),b.is("body")&&i.addClass(Toolkit.options.isPrefix+"root"),l&&c.children.length>l)for(g=0,h=c.children.length;h>g;)j.push(c.children.slice(g,g+=l));else j.push(c.children);for(var m,n,o=0;m=j[o];o++){for(d=a("<ul/>"),g=0,h=m.length;h>g;g++)n=m[g],e=a("<li/>"),n.url?(f=a("<a/>",{text:n.title,href:n.url}),a("<span/>").addClass(n.icon||"caret-right").prependTo(f)):(f=a("<span/>",{text:n.title}),e.addClass(Toolkit.options.vendor+"flyout-heading")),n.attributes&&f.attr(n.attributes),n.className&&e.addClass(n.className),e.append(f).appendTo(d),n.children&&n.children.length&&(this._buildMenu(e,n),e.addClass(Toolkit.options.hasPrefix+"children").on("mouseenter",this.onPositionChild.bind(this,e)).on("mouseleave",this.onHideChild.bind(this,e)));k?i.is(k)?i.append(d):i.find(k).append(d):i.append(d)}return i.appendTo(b),i},_getMenu:function(){var b=this._getTarget();if(this.menus[b])return this.current=b,this.menus[b];if(this.dataMap[b]){var c=this._buildMenu(a("body"),this.dataMap[b]);return c?(c.conceal(),"click"!==this.options.mode&&c.on({mouseenter:function(){this.clearTimer("hide")}.bind(this),mouseleave:function(){this.startTimer("hide",this.options.hideDelay)}.bind(this)}),this.current=b,this.menus[b]=c,this.menus[b]):null}return null},_getTarget:function(b){return b=a(b||this.node),this.readValue(b,this.options.getUrl)||b.attr("href")},onEnter:function(){this.clearTimer("hide"),this.startTimer("show",this.options.showDelay)},onHideChild:function(b){b=a(b),b.removeClass(Toolkit.options.isPrefix+"open"),b.children(this.options.contentElement).removeAttr("style"),this.fireEvent("hideChild",b)},onLeave:function(){this.clearTimer("show"),this.startTimer("hide",this.options.showDelay)},onPositionChild:function(b){var c=b.children(this.options.contentElement);if(c){var d=c.children();c.css("width",d.outerWidth()*d.length+"px");var e=a(window),f=e.height()+e.scrollTop(),g=e.width(),h=b.offset().top,i=b.outerHeight(),j=b.offset().left+b.outerWidth(),k=j+c.outerWidth();k>=g?c.addClass("push-left"):c.removeClass("push-left"),h>f/2?c.css("top","-"+(c.outerHeight()-i)+"px"):c.css("top",0),b.addClass(Toolkit.options.isPrefix+"open"),this.fireEvent("showChild",b)}},onShow:function(b){var c=a(b.target),d=this.node&&c[0]===this.node[0];if(this.isVisible()){if(Toolkit.isTouch?d&&"a"===this.node.prop("tagName").toLowerCase()||b.preventDefault():b.preventDefault(),"click"===this.options.mode&&this.hide(),d)return}else b.preventDefault();this.show(c)}},{mode:"hover",getUrl:"href",xOffset:0,yOffset:0,showDelay:350,hideDelay:1e3,itemLimit:15,contentElement:".flyout",template:'<div class="flyout"></div>'}),Toolkit.createComponent("flyout",function(a,b){return new Toolkit.Flyout(this,a,b)},!0)}(jQuery);!function(a){"use strict";Toolkit.Input=Toolkit.Component.extend(function(b,c){this.component="Input",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),c.checkbox&&b.find(c.checkbox).inputCheckbox(c),c.radio&&b.find(c.radio).inputRadio(c),c.select&&b.find(c.select).inputSelect(c),this.enable(),this.fireEvent("init")},{copyClasses:function(b,c){var d=(a(b).attr("class")||"").replace(/\binput\b/,"").trim();d&&a(c).addClass(d)},_buildWrapper:function(){var b=a("<div/>").addClass(Toolkit.options.vendor+"custom-input").insertBefore(this.input).append(this.input);return this.options.copyClasses&&this.copyClasses(this.input,b),b}},{checkbox:"input:checkbox",radio:"input:radio",select:"select"}),Toolkit.InputCheckbox=Toolkit.Input.extend(function(b,c){this.component="InputCheckbox",this.version="1.2.0",this.input=b=a(b),this.options=this.setOptions(c,b),this.wrapper=this._buildWrapper(),this.element=a("<label/>").addClass(Toolkit.options.vendor+"checkbox").attr("for",this.input.attr("id")).insertAfter(this.input),this.enable(),this.fireEvent("init")},{},{copyClasses:!0}),Toolkit.InputRadio=Toolkit.Input.extend(function(b,c){this.component="InputRadio",this.version="1.2.0",this.input=b=a(b),this.options=this.setOptions(c,b),this.wrapper=this._buildWrapper(),this.element=a("<label/>").addClass(Toolkit.options.vendor+"radio").attr("for",this.input.attr("id")).insertAfter(this.input),this.enable(),this.fireEvent("init")},{},{copyClasses:!0}),Toolkit.InputSelect=Toolkit.Input.extend(function(b,c){var d;this.component="InputSelect",this.version="1.2.0",this.input=b=a(b),this.multiple=b.prop("multiple"),this.options=c=this.setOptions(c,b),this.multiple&&c.native||(this.wrapper=this._buildWrapper(),this.element=this._buildButton(),this.dropdown=null,this.index=0,this.events=d={"change input":"onChange"},c.native||(d["blur input"]="hide",d["clickout dropdown"]="hide",d["clickout element"]="hide",d["click element"]="onToggle",this.multiple||(d["keydown window"]="onCycle"),this._buildDropdown(),this.input.css("z-index",1)),this.enable(),this.fireEvent("init"),this.input.change())},{hide:function(){this.element.removeClass(Toolkit.options.isPrefix+"active"),this.dropdown&&this.dropdown.conceal(),this.fireEvent("hide")},show:function(){this.element.addClass(Toolkit.options.isPrefix+"active"),this.dropdown&&this.dropdown.reveal(),this.fireEvent("show")},_buildButton:function(){var b=Toolkit.options.vendor,c=a("<div/>").addClass(b+"select").append(a("<div/>").addClass(b+"select-arrow").html(this.options.arrowContent)).append(a("<div/>").addClass(b+"select-label").html(Toolkit.messages.loading)).css("min-width",this.input.width()).insertAfter(this.input);return this.multiple&&this.input.css("max-height",c.height()),c},_buildDropdown:function(){var b=Toolkit.options.vendor,c=this.input,d=this.options,e=this._buildOption.bind(this),f=a("<div/>").addClass(b+"drop--down").addClass(b+"select-options"),g=a("<ul/>"),h=0,i=this;return this.dropdown=f,c.children().each(function(){var c=a(this);"optgroup"===c.prop("tagName").toLowerCase()?(0===h&&(d.hideFirst=!1),g.append(a("<li/>").addClass(b+"drop-heading").text(c.attr("label"))),c.children().each(function(){var b=a(this);c.prop("disabled")&&b.prop("disabled",!0),b.prop("selected")&&(i.index=h),g.append(e(b,h)),h++})):(c.prop("selected")&&(i.index=h),g.append(e(c,h)),h++)}),d.hideSelected&&!d.multiple&&f.addClass("hide-selected"),d.hideFirst&&f.addClass("hide-first"),this.multiple&&f.addClass(Toolkit.options.isPrefix+"multiple"),this.wrapper.append(f.append(g)),f},_buildOption:function(b,c){var d,e=this.input,f=this.dropdown,g=Toolkit.options.isPrefix,h=g+"active",i=a("<li/>"),j=b.text();b.prop("selected")&&i.addClass(h),(d=this.readValue(b,this.options.getDescription))&&(j+=' <span class="'+Toolkit.options.vendor+'drop-desc">'+d+"</span>");var k=a("<a/>").html(j).attr("href","javascript:;");if(this.options.copyClasses&&this.copyClasses(b,i),i.append(k),b.prop("disabled"))return i.addClass(g+"disabled"),i;if(this.multiple)k.click(function(){b.prop("selected")?(b.prop("selected",!1),a(this).parent().removeClass(h)):(b.prop("selected",!0),a(this).parent().addClass(h)),e.change()});else{var l=this;k.click(function(){f.find("li").removeClass(h),a(this).parent().addClass(h),l.hide(),l.index=c,e.val(b.val()),e.change()})}return i},_loop:function(a,b,c){var d=this.options.hideFirst;for(a+=b;"undefined"==typeof c[a]||c[a].disabled||0===a&&d;)a+=b,a>=c.length?a=0:0>a&&(a=c.length-1);return a},onChange:function(b){var c=a(b.target),d=c.find("option"),e=this.options,f=[],g=[],h=this;if(d.each(function(){this.selected&&(f.push(this),g.push(h.readValue(this,e.getOptionLabel)||this.textContent))}),this.multiple){var i=this.readValue(c,e.getDefaultLabel),j=e.multipleFormat,k=g.length;if(!g.length&&i)g=i;else if("count"===j)g=e.countMessage.replace("{count}",k).replace("{total}",d.length);else if("list"===j){var l=e.listLimit;g=g.splice(0,l).join(", "),k>l&&(g+=" ...")}}else g=g.join(", ");c.parent().find("."+Toolkit.options.vendor+"select-label").text(g),this.fireEvent("change",[c.val(),f])},onCycle:function(b){if(this.dropdown.is(":shown")&&a.inArray(b.keyCode,[38,40,13,27])>=0){b.preventDefault();var c=this.input.find("option"),d=this.dropdown.find("a"),e=Toolkit.options.isPrefix+"active",f=this.index;switch(b.keyCode){case 13:case 27:return void this.hide();case 38:f=this._loop(f,-1,c);break;case 40:f=this._loop(f,1,c)}c.prop("selected",!1),c[f].selected=!0,d.parent().removeClass(e),d.item(f).parent().addClass(e),this.index=f,this.input.change()}},onToggle:function(){this.input.prop("disabled")||(this.dropdown.is(":shown")?this.hide():this.show())}},{copyClasses:!0,"native":!1,multipleFormat:"count",countMessage:"{count} of {total} selected",listLimit:3,hideFirst:!1,hideSelected:!1,arrowContent:'<span class="caret-down"></span>',getDefaultLabel:"title",getOptionLabel:"title",getDescription:"data-description"}),Toolkit.createComponent("input",function(a){return new Toolkit.Input(this,a)}),Toolkit.createComponent("inputRadio",function(a){return new Toolkit.InputRadio(this,a)}),Toolkit.createComponent("inputCheckbox",function(a){return new Toolkit.InputCheckbox(this,a)}),Toolkit.createComponent("inputSelect",function(a){return new Toolkit.InputSelect(this,a)})}(jQuery);!function(a){"use strict";Toolkit.LazyLoad=Toolkit.Component.extend(function(b,c){b=a(b),this.component="LazyLoad",this.version="1.2.0",this.options=c=this.setOptions(c,b),this.container="auto"===b.css("overflow")?b:a(window),this.elements=b.find(".lazy-load"),this.element=null,this.isLoaded=!1,this.loaded=0;var d=a.throttle(this.load.bind(this),c.throttle);this.events={"scroll container":d,"resize window":d,"ready document":"onReady"},this.enable(),this.fireEvent("init")},{inViewport:function(b){b=a(b);var c=this.container,d=this.options.threshold,e=c.height(),f=c.width(),g=c.scrollTop(),h=c.scrollLeft(),i=c[0]!==window?b.position():b.offset();return b.is(":visible")&&i.top>=g-d&&i.top<=g+e+d&&i.left>=h-d&&i.left<=h+f+d},load:function(){if(!this.isLoaded){if(this.loaded===this.elements.length)return void this.shutdown();this.elements.each(function(a,b){b&&this.inViewport(b)&&this.show(b,a)}.bind(this)),this.fireEvent("load")}},loadAll:function(){this.isLoaded||(this.elements.each(function(a,b){this.show(b,a)}.bind(this)),this.fireEvent("loadAll"),this.shutdown())},show:function(b,c){b=a(b),b.removeClass("lazy-load"),this.element=b,b.find("img").each(function(){var b,c=a(this);Toolkit.isRetina&&(b=c.data("src-retina")),b||(b=c.data("src")),b&&c.attr("src",b)}),this.elements.splice(c,1,null),this.loaded++,this.fireEvent("show",b)},shutdown:function(){this.isLoaded=!0,this.disable(),this.fireEvent("shutdown")},onReady:function(){this.load(),this.options.forceLoad&&setTimeout(this.loadAll.bind(this),this.options.delay)}},{forceLoad:!1,delay:1e4,threshold:150,throttle:50}),Toolkit.createComponent("lazyLoad",function(a){return new Toolkit.LazyLoad(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Mask=Toolkit.Component.extend(function(b,c){this.component="Mask",this.version="1.2.0",this.element=b=a(b),this.options=this.setOptions(c,b),this.mask=null,this.message=null;var d=Toolkit.options.vendor,e=d+"mask";b.is("body")||(b.addClass(d+"maskable"),"static"===b.css("position")&&b.css("position","relative"));var f=b.find("> ."+e);f.length||(f=a("<div/>").addClass(e)),this.setMask(f),this.enable(),this.fireEvent("init")},{hide:function(){this.mask.conceal(),this.element.removeClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("hide")},setMask:function(b){var c=this.options;b.addClass("hide").appendTo(this.element),this.element.is("body")&&b.css("position","fixed"),c.revealOnClick&&b.click(this.hide.bind(this)),this.mask=b,this.message=b.find("> "+c.messageElement),this.message.length||(this.message=a("<div/>").addClass(c.messageElement.substr(1)).appendTo(b),c.messageContent&&this.message.html(c.messageContent))},show:function(a){this.node=a,this.mask.reveal(),this.element.addClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("show")},toggle:function(){this.mask.is(":shown")?this.hide():this.show()}},{revealOnClick:!1,messageContent:"",messageElement:".mask-message"}),Toolkit.createComponent("mask",function(a){return new Toolkit.Mask(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Matrix=Toolkit.Component.extend(function(b,c){this.component="Matrix",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.items=b.find("> li"),this.matrix=[],this.wrapperWidth=0,this.colWidth=0,this.colCount=0,this.images=[],this.imagesLoaded=0,this.events={"resize window":a.debounce(this.onResize.bind(this))},this.enable(),this.fireEvent("init"),b.addClass(Toolkit.options.vendor+"matrix"),c.defer?this._deferRender():this.render()},{append:function(b){a(b).appendTo(this.element).css("opacity",0),this.refresh()},prepend:function(b){a(b).prependTo(this.element).css("opacity",0),this.refresh()},refresh:function(){this.items=this.element.find("> li"),this.render()},remove:function(b){this.items.each(function(){var c=a(this);return c.is(b)?(c.remove(),!1):!0}),this.refresh()},render:function(){this._calculateColumns(),this.items.length<this.colCount?this.element.removeAttr("style"):this.colCount<=1?(this.element.addClass("no-columns"),this.items.removeAttr("style")):(this.element.removeClass("no-columns"),this._organizeItems(),this._positionItems()),this.fireEvent("render")},_calculateColumns:function(){var a,b=this.element.outerWidth(),c=this.options.width,d=this.options.gutter,e=Math.max(Math.floor(b/c),1),f=e*(c+d)-d;e>1&&(f>b?(a=f-b,c-=a/e):b>f&&(a=b-f,c+=a/e)),this.wrapperWidth=b,this.colWidth=c,this.colCount=e},_deferRender:function(){this.imagesLoaded=0,this.images=this.element.find("img"),this.images.length?this.images.each(function(a,b){var c=b.src;b.onload=this.onLoad.bind(this),b.onerror=this.onLoad.bind(this),b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",b.src=c}.bind(this)):this.render()},_organizeItems:function(){var a,b,c,d=0,e=this.items.length;this.matrix=[];for(var f=0;e>f;f++){if(a=this.items.item(f),c=a.outerWidth(),b=Math.max(Math.round(c/this.colWidth),1),this.matrix.push({item:a,span:b}),b>1)for(var g=1;b>g;g++)d++,this.matrix&&this.matrix.push({item:a,span:!1});d++,d>=this.colCount&&(d=0)}},_positionItems:function(){var a,b,c,d,e,f,g=this.options.gutter,h=this.matrix,i=this.options.rtl?"right":"left",j=0,k=[],l=0,m={margin:0,position:"absolute"};for(d=0;d<this.colCount;d++)k.push(0);for(d=0,e=h.length;e>d;d++){if(a=h[d],b=a.span,(l>=this.colCount||b+l>this.colCount)&&(l=0,j=0),b){for(c=0,f=0;b>f;f++)k[l+f]>c&&(c=k[l+f]);for(m.top=c,m[i]=j,m.width=(this.colWidth+g)*b-g,a.item.css(m).reveal(),f=0;b>f;f++)k[l+f]=a.item.outerHeight()+g+c}j+=this.colWidth+g,l++}this.element.css("height",Math.max.apply(Math,k))},onLoad:function(a){(!a||"load"===a.type&&a.target.complete||"error"===a.type&&!a.target.complete)&&this.imagesLoaded++,this.imagesLoaded===this.images.length&&this.render()},onResize:function(){this.refresh()}},{width:200,gutter:20,rtl:!1,defer:!0}),Toolkit.createComponent("matrix",function(a){return new Toolkit.Matrix(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Modal=Toolkit.Component.extend(function(b,c){var d,e;this.component="Modal",this.version="1.2.0",this.options=c=this.setOptions(c),this.element=d=this.createElement(),this.elementBody=d.find(c.contentElement),this.nodes=b=a(b),this.node=null,this.blackout=null,this.drag=null,this.cache={},this.events=e={},c.fullScreen&&(d.addClass(Toolkit.options.isPrefix+"fullscreen"),c.draggable=!1),c.blackout&&(this.blackout=Toolkit.Blackout.factory(),c.stopScroll&&this.blackout.element.on("hide.toolkit.blackout",function(b,c){c&&a("body").removeClass("no-scroll")})),e["clickout element"]="onHide",e["clickout nodes"]="onHide",e["keydown window"]="onKeydown",e["click "+b.selector]="onShow",e["click element "+c.closeEvent]="onHide",e["click element "+c.submitEvent]="onSubmit",this.enable(),this.fireEvent("init")},{hide:function(){this.element.conceal(),this.blackout&&this.blackout.hide(),this.fireEvent("hide")},position:function(b){b!==!0&&(this.blackout&&this.blackout.hideLoader(),this.elementBody.html(b),this.fireEvent("load",b),this.element.reveal(),this.options.fullScreen&&this.element.find(this.options.contentElement).css("min-height",a(window).height()),this.fireEvent("show"))},show:function(b,c){var d=this.options,e=d.ajax;c?e=!1:b&&(this.node=b=a(b),e=this.readOption(b,"ajax"),c=this.readValue(b,this.readOption(b,"getContent"))||b.attr("href"),c&&c.match(/^#[a-z0-9_\-\.:]+$/i)&&(c=a(c).html(),e=!1)),c&&(this.blackout&&this.blackout.show(),d.stopScroll&&a("body").addClass("no-scroll"),e?this.cache[c]?this.position(this.cache[c]):this.requestData(c):this.position(c))},onHide:function(a){a.preventDefault(),this.hide()},onKeydown:function(a){27===a.keyCode&&this.element.is(":shown")&&this.hide()},onShow:function(a){a.preventDefault(),this.show(a.currentTarget)},onSubmit:function(b){b.preventDefault();var c=a(b.target),d=this.elementBody.find("form:first");if(d){this.fireEvent("submit",[c,d]);var e={url:d.attr("action"),type:(d.attr("method")||"post").toUpperCase()};window.FormData?(e.processData=!1,e.contentType=!1,e.data=new FormData(d[0])):e.data=d.serialize(),this.requestData(e)}}},{animation:"fade",ajax:!0,draggable:!1,blackout:!0,fullScreen:!1,stopScroll:!0,getContent:"data-modal",contentElement:".modal-inner",closeElement:".modal-close",closeEvent:".modal-event-close",submitEvent:".modal-event-submit",template:'<div class="modal"><div class="modal-outer"><div class="modal-handle"><div class="modal-inner"></div><button type="button" class="modal-close modal-event-close"><span class="x"></span></button></div></div></div>'}),Toolkit.createComponent("modal",function(a){return new Toolkit.Modal(this,a)},!0)}(jQuery);!function(a){"use strict";Toolkit.Pin=Toolkit.Component.extend(function(b,c){this.component="Pin",this.version="1.2.1",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.elementHeight=null,this.elementTop=parseInt(b.css("top"),10),this.parentHeight=null,this.parentTop=null,this.viewport=null,this.active=!0,b.addClass(Toolkit.options.vendor+"pin").addClass(c.animation);var d=c.throttle;this.events={"scroll window":a.throttle(this.onScroll.bind(this),d),"resize window":a.throttle(this.onResize.bind(this),d),"ready document":"onResize"},this.enable(),this.fireEvent("init")},{calculate:function(){var b=a(window),c=this.options.context?this.element.parents(this.options.context):this.element.parent();this.viewport={width:b.width(),height:b.height()},this.elementHeight=this.element.outerHeight(),this.parentHeight=c.height(),this.parentTop=c.offset().top,this.active=this.element.is(":visible")&&this.parentHeight>this.elementHeight},pin:function(){var b=this.options;if(b.calculate&&this.calculate(),this.active){var c=b.fixed,d=this.elementHeight,e=this.elementTop,f=this.parentHeight,g=this.parentTop,h=a(window).scrollTop(),i={},j=b.xOffset,k=0,l=Toolkit.options.isPrefix;if(g>h)return void this.element.removeAttr("style").removeClass(l+"pinned");var m=h+d,n=f+g;c?m>=n?(k="auto",i.position="absolute",i.bottom=0):(i.position="fixed",i.bottom="auto"):(i.position="absolute",k+=m>=n?f-d:h-g+b.yOffset,e&&e>k&&(k=e)),i[b.location]=j,i.top=k,this.element.css(i).addClass(l+"pinned")}},onResize:function(){this.calculate(),this.pin(),this.fireEvent("resize")},onScroll:function(){this.pin(),this.fireEvent("scroll")}},{location:"right",xOffset:0,yOffset:0,throttle:50,fixed:!1,calculate:!1}),Toolkit.createComponent("pin",function(a){return new Toolkit.Pin(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Tooltip=Toolkit.Component.extend(function(b,c){var d,e;this.component="Tooltip",this.version="1.2.0",this.options=c=this.setOptions(c),this.element=d=this.createElement(),this.elementHead=d.find(c.titleElement),this.elementBody=d.find(c.contentElement),this.nodes=b=a(b),this.node=null,this.cache={},this.events=e={},this.runtime={},d.removeClass(c.className),b.each(function(b,c){a(c).attr("data-tooltip-title",a(c).attr("title")).removeAttr("title")}),"title"===c.getTitle&&(c.getTitle="data-tooltip-title"),"click"===c.mode?(e["clickout element"]="hide",e["clickout "+b.selector]="hide"):e["mouseleave "+b.selector]="hide",e[c.mode+" "+b.selector]="onShow",this.enable(),this.fireEvent("init")},{hide:function(){var a=this.element.data("new-position")||this.runtime.position||this.options.position,b=this.runtime.className||this.options.className;this.runtime={},this.element.conceal().removeClass(a).removeClass(b).removeData("new-position"),this.fireEvent("hide")},position:function(b,c){var d=a.isEmptyObject(this.runtime)?this.options:this.runtime;if(b!==!0)if(this.element.addClass(d.position).addClass(d.className),c=c||this.readValue(this.node,d.getTitle),c&&d.showTitle?this.elementHead.html(c).show():this.elementHead.hide(),b?this.elementBody.html(b).show():this.elementBody.hide(),this.fireEvent("load",b),d.follow){var e=this.onFollow.bind(this);this.node.off("mousemove",e).on("mousemove",e),this.fireEvent("show")}else this.element.positionTo(d.position,this.node,{left:d.xOffset,top:d.yOffset}),setTimeout(function(){this.element.reveal(),this.fireEvent("show")}.bind(this),d.delay||0)},show:function(b,c,d){var e;b?(this.node=b=a(b),this.runtime=e=this.inheritOptions(this.options,b),c=c||this.readValue(b,e.getContent)):this.runtime=e=this.options,c&&(e.ajax?this.cache[c]?this.position(this.cache[c],d):(e.showLoading&&this.position(Toolkit.messages.loading),this.requestData(c)):(c.match(/^#[a-z0-9_\-\.:]+$/i)&&(c=a(c).html()),this.position(c,d)))},onFollow:function(a){a.preventDefault();var b=this.runtime;this.element.positionTo(b.position,a,{left:b.xOffset,top:b.yOffset},!0).reveal()},onShow:function(b){var c=a(b.target),d=this.node&&this.node.is(c);if(this.element.is(":shown")){if(Toolkit.isTouch?d&&"a"===this.node.prop("tagName").toLowerCase()||b.preventDefault():b.preventDefault(),"click"===this.options.mode&&this.hide(),d)return}else b.preventDefault();this.show(c)}},{mode:"hover",animation:"fade",ajax:!1,follow:!1,position:"top-center",showLoading:!0,showTitle:!0,getTitle:"title",getContent:"data-tooltip",mouseThrottle:50,xOffset:0,yOffset:0,delay:0,titleElement:".tooltip-head",contentElement:".tooltip-body",template:'<div class="tooltip"><div class="tooltip-inner"><div class="tooltip-head"></div><div class="tooltip-body"></div></div><div class="tooltip-arrow"></div></div>'}),Toolkit.createComponent("tooltip",function(a){return new Toolkit.Tooltip(this,a)},!0)}(jQuery);!function(a){"use strict";Toolkit.Popover=Toolkit.Tooltip.extend(function(b,c){var d;this.component="Popover",this.version="1.2.0",this.options=c=this.setOptions(c),this.element=d=this.createElement(),this.elementHead=d.find(c.titleElement),this.elementBody=d.find(c.contentElement),this.nodes=b=a(b),this.node=null,this.cache={},this.events={},this.runtime={},c.mode="click",d.removeClass(c.className),b.each(function(b,c){a(c).attr("data-popover-title",a(c).attr("title")).removeAttr("title")}),"title"===c.getTitle&&(c.getTitle="data-popover-title"),this.events["clickout element"]="hide",this.events["clickout "+b.selector]="hide",this.events["click "+b.selector]="onShow",this.enable(),this.fireEvent("init")},{},{getContent:"data-popover",titleElement:".popover-head",contentElement:".popover-body",template:'<div class="popover"><div class="popover-inner"><div class="popover-head"></div><div class="popover-body"></div></div><div class="popover-arrow"></div></div>'}),Toolkit.createComponent("popover",function(a){return new Toolkit.Popover(this,a)},!0)}(jQuery);!function(a){"use strict";Toolkit.Showcase=Toolkit.Component.extend(function(b,c){var d,e;Toolkit.hasTransition||(c.transition=1),this.component="Showcase",this.version="1.2.0",this.options=c=this.setOptions(c),this.element=d=this.createElement(),this.nodes=b=a(b),this.items=d.find(c.itemsElement),this.tabs=d.find(c.tabsElement),this.prevButton=d.find(c.prevElement),this.nextButton=d.find(c.nextElement),this.data=[],this.index=0,this.blackout=c.blackout?Toolkit.Blackout.factory():null,c.gutter+=d.height()-this.items.height(),this.events=e={"clickout element":"hide","clickout nodes":"hide","swipeleft element":"next","swipeup element":"next","swiperight element":"prev","swipedown element":"prev","keydown window":"onKeydown"},e["click "+b.selector]="onShow",e["click "+c.closeEvent]="hide",e["click "+c.nextEvent]="next",e["click "+c.prevEvent]="prev",e["click "+c.jumpEvent]="onJump",this.enable(),this.fireEvent("init")},{hide:function(){this.blackout&&this.blackout.hide(),this.options.stopScroll&&a("body").removeClass("no-scroll"),this.element.is(":shown")&&(this.element.conceal().removeClass(Toolkit.options.isPrefix+"single"),this.items.removeAttr("style").children("li").removeClass("show"),this.fireEvent("hide"))},jump:function(b){b=a.bound(b,this.data.length);var c=this,d=this.options,e=this.element,f=this.items,g=f.children("li"),h=g.item(b),i=this.data,j=i[b],k=Toolkit.options.isPrefix;if(this.index=b,this.tabs){var l=this.tabs.find("a");l.removeClass(k+"active").item(b).addClass(k+"active")}if(g.removeClass("show"),h.data("width"))this._resize(h.data("width"),h.data("height")),setTimeout(function(){h.addClass("show"),c.position()},d.transition);else{e.addClass(k+"loading");var m=new Image;m.src=j.image,m.onload=function(){c._resize(this.width,this.height),h.data("width",this.width).data("height",this.height),j.title&&h.append(a("<div/>").addClass(Toolkit.options.vendor+"showcase-caption").html(j.title)),setTimeout(function(){e.removeClass(k+"loading"),h.addClass("show").append(m),c.position()},d.transition)}}this.fireEvent("jump",b)},next:function(){this.jump(this.index+1)},position:function(){this.blackout&&this.blackout.hideLoader(),this.element.reveal(),this.fireEvent("show")},prev:function(){this.jump(this.index-1)},show:function(b){this.node=b=a(b),this.index=0,this.element.addClass(Toolkit.options.isPrefix+"loading");var c=this.inheritOptions(this.options,b),d=this.readValue.bind(this),e=d(b,c.getCategory),f=[],g=0;if(e)for(var h,i=0,j=0;h=this.nodes[i];i++)d(h,c.getCategory)===e&&(h===b&&(g=j),f.push({title:d(h,c.getTitle),category:e,image:d(h,c.getImage)}),j++);else f.push({title:d(b,c.getTitle),category:e,image:d(b,c.getImage)});this.blackout&&this.blackout.show(),c.stopScroll&&a("body").addClass("no-scroll"),this._buildItems(f),this.jump(g)},_buildItems:function(b){this.data=b,this.items.empty(),this.tabs.empty();for(var c,d,e,f=0;e=b[f];f++)c=a("<li/>"),c.appendTo(this.items),d=a("<a/>").addClass(this.options.jumpEvent.substr(1)).attr("href","javascript:;").data("index",f),c=a("<li/>"),c.appendTo(this.tabs).append(d);b.length<=1&&this.element.addClass(Toolkit.options.isPrefix+"single"),this.fireEvent("load",b)},_resize:function(b,c){var d,e,f=a(window).width(),g=a(window).height(),h=this.options.gutter;if(b+h>f){var i=f-2*h;d=b/c,e=b-i,b=i,c-=Math.round(e/d)}else if(c+h>g){var j=g-2*h;d=c/b,e=c-j,b-=Math.round(e/d),c=j}this.items.css({width:b,height:c})},onJump:function(b){b.preventDefault(),this.jump(a(b.target).data("index")||0)},onKeydown:function(b){if(this.element.is(":shown"))switch(a.inArray(b.keyCode,[37,38,39,40])>=0&&b.preventDefault(),b.keyCode){case 27:this.hide();break;case 37:this.prev();break;case 38:this.jump(0);break;case 39:this.next();break;case 40:this.jump(-1)}},onShow:function(a){a.preventDefault(),this.show(a.currentTarget)}},{blackout:!0,stopScroll:!0,transition:300,gutter:50,getCategory:"data-showcase",getImage:"href",getTitle:"title",itemsElement:".showcase-items",tabsElement:".showcase-tabs",prevElement:".showcase-prev",nextElement:".showcase-next",closeEvent:".showcase-event-close",jumpEvent:".showcase-event-jump",prevEvent:".showcase-event-prev",nextEvent:".showcase-event-next",template:'<div class="showcase"><div class="showcase-inner"><ul class="showcase-items"></ul><ol class="showcase-tabs bullets"></ol><button type="button" class="showcase-prev showcase-event-prev"><span class="arrow-left"></span></button><button type="button" class="showcase-next showcase-event-next"><span class="arrow-right"></span></button><button type="button" class="showcase-close showcase-event-close"><span class="x"></span></button></div></div>'}),Toolkit.createComponent("showcase",function(a){return new Toolkit.Showcase(this,a)},!0)}(jQuery);!function(a){"use strict";Toolkit.Stalker=Toolkit.Component.extend(function(b,c){if(this.component="Stalker",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c),!c.target||!c.marker)throw new Error("A marker and target is required");this.targets=[],this.markers=[],this.offsets=[],this.container="auto"===b.css("overflow")?b:a(window),b.addClass(Toolkit.options.vendor+"stalker"),this.refresh(),this.events={"scroll container":a.throttle(this.onScroll.bind(this),c.throttle),"ready document":"onScroll"},this.enable(),this.fireEvent("init")},{activate:function(a){this._stalk(a,"activate")},deactivate:function(a){this._stalk(a,"deactivate")},refresh:function(){var b,c=Toolkit.options.vendor,d=this.container.is(window),e=this.element.offset().top,f=[];"auto"!==this.element.css("overflow")||this.element.is("body")||(this.element[0].scrollTop=0),this.targets=a(this.options.target).addClass(c+"stalker-target"),this.markers=a(this.options.marker).addClass(c+"stalker-marker").each(function(c,g){g=a(g),b=g.offset(),d||(b.top-=e),f.push(b)}),this.offsets=f},_stalk:function(b,c){b=a(b);var d=Toolkit.options.isPrefix;if("activate"!==c||!b.hasClass(d+"stalked")){var e=this.options,f=e.targetBy,g=e.markBy,h="activate"===c?"addClass":"removeClass",i=this.targets.filter(function(){return a(this).attr(f).replace("#","")===b.attr(g)});b[h](d+"stalked"),e.applyToParent?i.parent()[h](d+"active"):i[h](d+"active"),this.fireEvent(c,[b,i])}},onScroll:function(){var b=this.container.scrollTop(),c=this.offsets,d=this.options.onlyWithin,e=this.options.threshold;this.markers.each(function(f,g){g=a(g);var h=c[f],i=h.top-e,j=h.top+g.height()+e;d&&b>=i&&j>=b||!d&&b>=i?this.activate(g):this.deactivate(g)}.bind(this)),this.fireEvent("scroll")}},{target:"",targetBy:"href",marker:"",markBy:"id",threshold:50,throttle:50,onlyWithin:!0,applyToParent:!0}),Toolkit.createComponent("stalker",function(a){return new Toolkit.Stalker(this,a)})}(jQuery);!function(a){"use strict";Toolkit.Tabs=Toolkit.Component.extend(function(b,c){var d,e;this.component="Tabs",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.nav=b.find(c.navElement),this.tabs=e=this.nav.find("ul > li > a"),this.sections=b.find(c.sectionElement).conceal(),this.index=0,this.cache={},this.events=d={},c.cookie||(c.cookie=b.attr("id")),e.each(function(b){a(this).data("index",b).removeClass(Toolkit.options.isPrefix+"active")}),d[c.mode+" tabs"]="onShow","click"!==c.mode&&c.preventDefault&&(d["click tabs"]=function(a){a.preventDefault()}),this.enable(),this.fireEvent("init");var f=c.defaultIndex;c.persistState&&c.cookie&&(f=a.cookie("toolkit.tabs."+c.cookie)),!f&&c.loadFragment&&location.hash&&(f=e.filter(function(){return a(this).attr("href")===location.hash}).item(0).data("index")),f&&e[f]||(f=c.defaultIndex),this.jump(f)},{hide:function(){this.sections.conceal(),this.fireEvent("hide",this.node)},jump:function(b){this.show(this.tabs[a.bound(b,this.tabs.length)])},show:function(b){b=a(b);var c=b.data("index"),d=this.sections.item(c),e=this.options,f=this.readOption(b,"ajax"),g=this.readValue(b,this.readOption(b,"getUrl")),h=Toolkit.options.isPrefix;f&&g&&"#"!==g.substr(0,1)&&!this.cache[g]&&this.requestData(g,function(){d.html(this._loadingTemplate()).addClass(h+"loading")},function(a){this.cache[g]=!0,this.fireEvent("load",a),d.html(a).removeClass(h+"loading")},function(){d.html(this._errorTemplate()).removeClass(h+"loading").addClass(Toolkit.options.hasPrefix+"failed")}),this.nav.find("ul > li").removeClass(h+"active"),c===this.index&&e.collapsible?d.is(":shown")?d.conceal():(b.parent().addClass(h+"active"),d.reveal()):(this.hide(),b.parent().addClass(h+"active"),d.reveal()),e.persistState&&a.cookie("toolkit.tabs."+e.cookie,c,{expires:e.cookieDuration}),this.index=c,this.node=b,this.fireEvent("show",b)},onShow:function(a){(this.options.preventDefault||this.options.ajax&&"#"!==a.target.getAttribute("href").substr(0,1))&&a.preventDefault(),this.show(a.target)}},{mode:"click",ajax:!0,collapsible:!1,defaultIndex:0,persistState:!1,preventDefault:!0,loadFragment:!0,cookie:null,cookieDuration:30,getUrl:"href",navElement:".tabs-nav",sectionElement:".tabs-section"}),Toolkit.createComponent("tabs",function(a){return new Toolkit.Tabs(this,a)})}(jQuery);!function(a){"use strict";Toolkit.TypeAhead=Toolkit.Component.extend(function(b,c){if(b=a(b),"input"!==b.prop("tagName").toLowerCase())throw new Error("TypeAhead must be initialized on an input field");b.attr("autocomplete","off"),this.component="TypeAhead",this.version="1.2.1",this.options=c=this.setOptions(c,b),this.element=this.createElement(),this.input=b,this.shadow=null,this.index=-1,this.items=[],this.term="",this.timer=null,this.cache={};var d=this;if(a.each({sorter:"sort",matcher:"match",builder:"build"},function(b,e){if(c[b]!==!1){var f;f=null===c[b]||"function"!==a.type(c[b])?d[e]:c[b],c[b]=f.bind(d)}}),c.prefetch&&"string"===a.type(c.source)){var e=c.source;a.getJSON(e,c.query,function(a){d.cache[e]=a})}c.shadow&&(this.wrapper=a("<div/>").addClass(Toolkit.options.vendor+"type-ahead-shadow"),this.shadow=this.input.clone().addClass(Toolkit.options.isPrefix+"shadow").removeAttr("id").prop("readonly",!0),this.input.addClass("not-shadow").replaceWith(this.wrapper),this.wrapper.append(this.input).append(this.shadow)),this.events={"keyup input":"onLookup","keydown input":"onCycle","clickout element":"hide"},this.enable(),this.fireEvent("init")},{build:function(b){var c=Toolkit.options.vendor,d=a("<a/>",{href:"javascript:;"});return d.append(a("<span/>",{"class":c+"type-ahead-title",html:this.highlight(b.title)})),b.description&&d.append(a("<span/>",{"class":c+"type-ahead-desc",html:b.description})),d},hide:function(){this.shadow&&this.shadow.val(""),this.element.is(":shown")&&(this.element.conceal(),this.fireEvent("hide"))},highlight:function(a){for(var b,c=this.term.replace(/[\-\[\]\{\}()*+?.,\\^$|#]/g,"\\$&").split(" "),d=function(a){return'<mark class="'+Toolkit.options.vendor+'type-ahead-highlight">'+a+"</mark>"},e=0;b=c[e];e++)a=a.replace(new RegExp(b,"ig"),d);return a},lookup:function(a){this.term=a,this.timer=setTimeout(this.onFind.bind(this),this.options.throttle)},match:function(a,b){return a.toLowerCase().indexOf(b.toLowerCase())>=0},position:function(){if(!this.items.length)return void this.hide();var a=this.input.offset();this.element.css({left:a.left,top:a.top+this.input.outerHeight()}).reveal(),this.fireEvent("show")},rewind:function(){this.index=-1,this.element.find("li").removeClass(Toolkit.options.isPrefix+"active")},select:function(a,b){this.index=a;var c=this.element.find("li"),d=Toolkit.options.isPrefix;if(c.removeClass(d+"active"),a>=0){if(this.items[a]){var e=this.items[a];c.item(a).addClass(d+"active"),this.input.val(e.title),this.fireEvent(b||"select",[e,a])}}else this.input.val(this.term),this.fireEvent("reset")},sort:function(a){return a.sort(function(a,b){return a.title.localeCompare(b.title)})},source:function(b){if(!this.term.length||!b.length)return void this.hide();var c,d=this.options,e={_empty_:[]},f=a("<ul/>");this.items=[],this.index=-1,"function"===a.type(d.sorter)&&(b=d.sorter(b)),"function"===a.type(d.matcher)&&(b=b.filter(function(a){return d.matcher(a.title,this.term)}.bind(this)));for(var g=0;c=b[g];g++)c.category?(e[c.category]||(e[c.category]=[]),e[c.category].push(c)):e._empty_.push(c);var h=[],i=0;a.each(e,function(b,e){var g=[];"_empty_"!==b&&(h.push(null),g.push(a("<li/>").addClass(Toolkit.options.vendor+"type-ahead-heading").append(a("<span/>",{text:b}))));for(var j,k=0;(c=e[k])&&!(i>=d.itemLimit);k++)j=d.builder(c),j.on({mouseover:this.rewind.bind(this),click:a.proxy(this.onSelect,this,h.length)}),g.push(a("<li/>").append(j)),h.push(c),i++;f.append(g)}.bind(this)),d.contentElement?this.element.find(d.contentElement).empty().append(f):this.element.empty().append(f),this.items=h,this.cache[this.term.toLowerCase()]=h.filter(function(a){return null!==a}),this.fireEvent("load"),this._shadow(),this.position()},_shadow:function(){if(this.shadow){var a=this.input.val(),b=a.toLowerCase(),c="";if(this.cache[b]&&this.cache[b][0]){var d=this.cache[b][0].title;0===d.toLowerCase().indexOf(b)&&(c=a+d.substr(a.length,d.length-a.length))}this.shadow.val(c)}},onCycle:function(a){var b=this.items,c=Math.min(this.options.itemLimit,Math.max(0,b.length)),d="cycle";if(c&&this.element.is(":shown")){switch(a.keyCode){case 38:this.index-=b[this.index-1]?1:2,this.index<0&&(this.index=c);break;case 40:this.index+=b[this.index+1]?1:2,this.index>=c&&(this.index=-1);break;case 9:a.preventDefault();for(var e=0;!this.items[e];)e++;d="select",this.index=e,this.hide();break;case 13:a.preventDefault(),d="select",this.hide();break;case 27:this.index=-1,this.hide();break;default:return}this.shadow&&this.shadow.val(""),this.select(this.index,d)}},onFind:function(){var b=this.term,c=this.options,d=a.type(c.source);if(this.cache[b.toLowerCase()])this.source(this.cache[b.toLowerCase()]);else if("string"===d){var e=c.source,f=this.cache[e];if(f)this.source(f);else{var g=c.query;g.term=b,a.getJSON(e,g,this.source.bind(this))}}else if("array"===d)this.source(c.source);else{if("function"!==d)throw new Error("Invalid TypeAhead source type");var h=c.source.call(this);h&&this.source(h)}},onLookup:function(b){if(!(a.inArray(b.keyCode,[38,40,27,9,13])>=0)){clearTimeout(this.timer);var c=this.input.val().trim();c.length<this.options.minLength?(this.fireEvent("reset"),this.hide()):(this._shadow(),this.lookup(c))}},onSelect:function(a){this.select(a),this.hide()}},{source:[],minLength:1,itemLimit:15,throttle:250,prefetch:!1,shadow:!1,query:{},contentElement:"",template:'<div class="type-ahead"></div>',sorter:null,matcher:null,builder:null}),Toolkit.createComponent("typeAhead",function(a){return new Toolkit.TypeAhead(this,a)})}(jQuery);